<div class="container">
    <!-- Header -->
    <header class="header">
        <h1>
            <span>ğŸ“‹</span>
            Lembretes App
        </h1>
        <p>Organize suas tarefas e nunca mais esqueÃ§a nada importante</p>
    </header>

    <!-- Cards de Funcionalidades (agora apenas 2 cards) -->
    <div class="features-grid">
        <div class="feature-card">
            <div class="feature-icon">âœï¸</div>
            <h3>Crie Lembretes</h3>
            <p>Adicione lembretes com tÃ­tulo, conteÃºdo e tags de forma simples e rÃ¡pida.</p>
            <button class="btn btn-primary" (click)="novo()">Novo Lembrete</button>
        </div>

        <div class="feature-card">
            <div class="feature-icon">ğŸ“Š</div>
            <h3>Total de Lembretes</h3>
            <p>VocÃª tem <strong>{{lembretes?.length || 0}}</strong> lembrete(s) cadastrado(s)</p>
            <div class="stats">
                <small>Gerencie todos em um sÃ³ lugar</small>
            </div>
        </div>
    </div>

    <!-- FormulÃ¡rio de EdiÃ§Ã£o/CriaÃ§Ã£o -->
    <div *ngIf="selLembrete" class="lembrete-form" #formSection>
        <h2>
            <span *ngIf="selLembrete.id">âœï¸</span>
            <span *ngIf="!selLembrete.id">â•</span>
            {{selLembrete.id ? 'Editar Lembrete' : 'Novo Lembrete'}}
        </h2>

        <div class="form-group">
            <label class="form-label">TÃ­tulo do Lembrete</label>
            <input type="text" class="form-input" [(ngModel)]="selLembrete.titulo" placeholder="Ex: ReuniÃ£o importante"
                maxlength="100">
            <div class="char-count">{{selLembrete.titulo?.length || 0}}/100</div>
        </div>

        <div class="form-group">
            <label class="form-label">ConteÃºdo</label>
            <textarea class="form-input" [(ngModel)]="selLembrete.conteudo"
                placeholder="Descreva os detalhes do lembrete..." rows="4" maxlength="500"></textarea>
            <div class="char-count">{{selLembrete.conteudo?.length || 0}}/500</div>
        </div>

        <div class="form-group">
            <label class="form-label">Tags (separadas por vÃ­rgula)</label>
            <input type="text" class="form-input" [(ngModel)]="selLembrete.tags"
                placeholder="Ex: trabalho, importante, urgente">
            <div class="tags-hint">Use tags para organizar seus lembretes</div>
        </div>

        <div class="form-actions">
            <button type="button" class="btn btn-primary" (click)="salvar()">
                <span>ğŸ’¾</span>
                {{selLembrete.id ? 'Atualizar' : 'Salvar'}}
            </button>
            <button type="button" class="btn btn-secondary" (click)="cancelar()">
                <span>âŒ</span>
                Cancelar
            </button>
        </div>
    </div>

    <!-- Lista de Lembretes -->
    <section class="lembrete-list" *ngIf="lembretes && lembretes.length > 0">
        <div class="lembrete-header">
            <h2>
                <span>ğŸ“</span>
                Meus Lembretes ({{lembretes.length}})
            </h2>
            <div class="list-actions">
                <button class="btn btn-secondary" (click)="novo()">
                    <span>â•</span>
                    Novo Lembrete
                </button>
            </div>
        </div>

        <ul class="lembrete-items">
            <li *ngFor="let lembrete of lembretes; let i = index" class="lembrete-item"
                [class.selected]="selLembrete?.id === lembrete.id" (click)="selecionarLembrete(lembrete)">
                <div class="lembrete-header-row">
                    <div class="lembrete-title">
                        <span class="lembrete-icon">ğŸ“Œ</span>
                        {{lembrete.titulo || 'Sem tÃ­tulo'}}
                    </div>
                    <button class="btn-icon delete-btn" (click)="remover(lembrete.id); $event.stopPropagation()"
                        title="Remover lembrete">
                        ğŸ—‘ï¸
                    </button>
                </div>

                <div class="lembrete-content">
                    <div class="lembrete-field">
                        <span class="field-label">ConteÃºdo:</span>
                        <span class="field-value">{{lembrete.conteudo || 'Sem conteÃºdo'}}</span>
                    </div>

                    <div class="lembrete-field" *ngIf="lembrete.tags">
                        <span class="field-label">Tags:</span>
                        <div class="tags-container">
                            <span class="tag" *ngFor="let tag of getTagsArray(lembrete.tags)">
                                {{tag.trim()}}
                            </span>
                        </div>
                    </div>

                    <div class="lembrete-meta">
                        <span class="lembrete-index">#{{i + 1}}</span>
                        <span class="lembrete-id">ID: {{lembrete.id}}</span>
                    </div>
                </div>

                <div class="lembrete-actions">
                    <button class="btn-icon" (click)="selecionarLembrete(lembrete); $event.stopPropagation()"
                        title="Editar lembrete">
                        âœï¸
                    </button>
                    <button class="btn-icon delete-btn" (click)="remover(lembrete.id); $event.stopPropagation()"
                        title="Remover lembrete">
                        ğŸ—‘ï¸
                    </button>
                </div>
            </li>
        </ul>
    </section>

    <!-- Estado vazio -->
    <div *ngIf="!lembretes || lembretes.length === 0" class="empty-state">
        <div class="empty-icon">ğŸ“­</div>
        <h3>Nenhum lembrete encontrado</h3>
        <p>VocÃª ainda nÃ£o tem lembretes cadastrados. Clique no botÃ£o abaixo para criar o primeiro!</p>
        <button class="btn btn-primary" (click)="novo()">
            <span>â•</span>
            Criar Primeiro Lembrete
        </button>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <p>Gerenciamento simplificado de tarefas</p>
        <p>Feito com Angular 19 e â¤ï¸ | Total: {{lembretes?.length || 0}} lembrete(s)</p>
    </footer>
</div>